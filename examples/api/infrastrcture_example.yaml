## Creates the following resources
## Octopus project named demo-app in demo Group
## Helm release of variant-api chart named demo-app
## S3 Bucket with prefix of devops-demo-api-bucket-***
## SNS topic of name devops-test-topic
## Creates Postgres Database with name "sample-db" and role "sample-role"
name: demo-app
octopus:
  space: DevOps
  group: demo
infrastructure:
  buckets:
    managed:
      demo:
        name: demo-api-bucket
  topics:
    test-topic:
      display_name: "This is a demo SNS topic"
  database:
    create_database: true
    db_name: sample-db
    extensions: ["postgis"]
    name: sample-role
api:
  authentication:
    enabled: true
    server: oktapreview.com
  service:
    targetPort: 5000
  configVars:
    AWS_REGION: us-east-1
## Will expose /<octopus.group>/<name>/sns GET method 
## to send test messages to SNS topic,
## and expose /<octopus.group>/<name>/s3 GET method
## to validate s3 bucket was created